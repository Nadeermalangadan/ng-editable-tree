{"version":3,"file":"ng-editable-tree.js","sources":["src/scripts/ng-editable-tree.js","src/scripts/jquery.mjs.nestedSortable.js"],"names":["$","widget","extend","ui","sortable","prototype","options","tabSize","disableNesting","errorClass","doNotClear","listType","maxLevels","protectRoot","rootID","rtl","isAllowed","_create","this","element","data","is","Error","apply","arguments","destroy","removeData","unbind","_mouseDrag","event","position","_generatePosition","positionAbs","_convertPositionTo","lastPositionAbs","o","scroll","scrolled","scrollParent","document","tagName","overflowOffset","top","offsetHeight","pageY","scrollSensitivity","scrollTop","scrollSpeed","left","offsetWidth","pageX","scrollLeft","window","height","width","ddmanager","dropBehaviour","prepareOffsets","previousTopOffset","placeholder","offset","axis","helper","style","i","items","length","item","itemElement","intersection","_intersectsWithPointer","currentItem","contains","type","mouseenter","direction","tolerance","_intersectsWithSides","mouseleave","_rearrange","_clearEmpty","_trigger","_uiHash","parentItem","parentNode","closest","level","_getLevel","childLevels","_getChildLevels","previousItem","previousSibling","nodeName","toLowerCase","nextItem","nextSibling","newList","createElement","beyondMaxLevels","outerWidth","after","_isAllowed","children","appendChild","prepend","_contactContainers","drag","_mouseStop","removeClass","domPosition","prev","parent","serialize","_getItemsAsjQuery","connected","str","each","res","attr","attribute","match","expression","pid","push","key","join","toHierarchy","_recursiveItems","id","ret","startDepthCount","toArray","_recursiveArray","depth","right","sDepth","item_id","parent_id","sort","a","b","emptyList","remove","list","self","result","index","child","Math","max","levels","isRoot","hasClass","nestedSortable","addClass","mjs","jQuery","define","angular","module","directive","restrict","transclude","priority","terminal","compile","tElement","tAttrs","repeatExpr","childExpr","rootExpr","childrenExpr","branchExpr","treeView","scope","lookup","cache","splice","rootElement","$watch","root","currentCache","walk","parentScope","cursor","cached","childScope","grandchildren","n","last","childNodes","insertBefore","$new","clone","branch","find","$depth","$index","$first","$last","$middle","$destroy","removeChild","$parse","eventTypes","split","link","attrs","handle","forcePlaceholderSize","toleranceElement","nodeOptions","treeViewSortableOptions","tree","treeViewSortable","value","parents","el","$apply","$expanded","target","callback","treeViewMove","$item","$before","forEach","eventType","charAt","substr","$event","$ui","factory","$resource","$q","$rootScope","ResourceFactory","url","paramDefaults","actions","resource","defaultActions","update","method","create","params","insert","move","$insertItem","cb","noop","copy","$create","unshift","$$phase","$moveItem","before","$move","getTree","def","defer","get","resolve","promise","findWalk","iterator","isUndefined","call"],"mappings":"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"}